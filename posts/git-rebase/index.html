<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Introduction and Demonstration to Git Rebase - The Fun Corner</title><meta name=Description content="This is my cool site"><meta property="og:title" content="Introduction and Demonstration to Git Rebase"><meta property="og:description" content="Git rebase is a powerful command that lets us reapply commits on top of another commit or branch. It is a very useful command for both collaborating with others and developing our own project. We all know it is a good practice to keep a commit within reasonable size and readable for either code review or for later reference. However, as a developer myself, I often make mistakes when I am too focus on the coding flow to pay attention to follow displine."><meta property="og:type" content="article"><meta property="og:url" content="https://adelinewei.github.io/posts/git-rebase/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-09-16T00:48:00+02:00"><meta property="article:modified_time" content="2022-09-16T00:48:00+02:00"><meta property="og:site_name" content="My cool site"><meta name=twitter:card content="summary"><meta name=twitter:title content="Introduction and Demonstration to Git Rebase"><meta name=twitter:description content="Git rebase is a powerful command that lets us reapply commits on top of another commit or branch. It is a very useful command for both collaborating with others and developing our own project. We all know it is a good practice to keep a commit within reasonable size and readable for either code review or for later reference. However, as a developer myself, I often make mistakes when I am too focus on the coding flow to pay attention to follow displine."><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://adelinewei.github.io/posts/git-rebase/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Introduction and Demonstration to Git Rebase","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/adelinewei.github.io\/posts\/git-rebase\/"},"genre":"posts","keywords":"git, demo","wordcount":906,"url":"https:\/\/adelinewei.github.io\/posts\/git-rebase\/","datePublished":"2022-09-16T00:48:00+02:00","dateModified":"2022-09-16T00:48:00+02:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Author"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"light"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"light"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="The Fun Corner">The Fun Corner</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/about/>About </a><a class=menu-item href=https://github.com/adelinewei rel="noopener noreffer" target=_blank><i class='fa-brands fa-github fa-lg' aria-hidden=true></i> </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="The Fun Corner">The Fun Corner</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/about/ title>About</a><a class=menu-item href=https://github.com/adelinewei title rel="noopener noreffer" target=_blank><i class='fa-brands fa-github fa-lg' aria-hidden=true></i></a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Introduction and Demonstration to Git Rebase</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Author</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2022-09-16>2022-09-16</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;906 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;5 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#demostration-and-explanation>Demostration and Explanation</a><ul><li><a href=#a-quick-view-on-the-demo-material>A Quick View on the Demo Material</a></li><li><a href=#interactive-mode-gui>Interactive Mode GUI</a></li></ul></li><li><a href=#command-usages>Command Usages</a><ul><li><a href=#reorder-commits>Reorder commits</a></li><li><a href=#reword-commits>Reword commits</a></li><li><a href=#delete-commits>Delete commits</a></li><li><a href=#squash-commits>Squash commits</a></li></ul></li><li><a href=#epilogue>Epilogue</a></li></ul></nav></div></div><div class=content id=content><p><a href=https://git-scm.com/docs/git-rebase target=_blank rel="noopener noreffer">Git rebase</a> is a powerful command that lets us reapply commits on top of another commit or branch. It is a very useful command for both collaborating with others and developing our own project. We all know it is a good practice to keep a commit within reasonable size and readable for either code review or for later reference. However, as a developer myself, I often make mistakes when I am too focus on the coding flow to pay attention to follow displine.</p><p>Therefore, I would like to share with you some git rebase commands that I use everyday to keep my code away from chaos.</p><h2 id=demostration-and-explanation>Demostration and Explanation</h2><h3 id=a-quick-view-on-the-demo-material>A Quick View on the Demo Material</h3><p>Here is a <a href=https://github.com/adelinewei/git-rebase-demo target=_blank rel="noopener noreffer">demo repo</a> created for the demo purpose. You can clone it and try it out by yourself for a better understanding.</p><p>The demo repo is consisted of five files (file 1, file 2, &mldr; file 5), pushed one by one in order.</p><p>Git history visualization of the demo repo:
<img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-00.png data-srcset="/posts/git-rebase/images/git-rebase-00.png, /posts/git-rebase/images/git-rebase-00.png 1.5x, /posts/git-rebase/images/git-rebase-00.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-00.png title=git-rebase-origin width=799 height=208></p><p>Today, I am going to share how to <code>reorder</code>, <code>reword</code>, <code>delete</code> and <code>squash</code> commits.</p><h3 id=interactive-mode-gui>Interactive Mode GUI</h3><p>To start interactive rebasing, run this command <code>git rebase -i df5a0d6</code>.<div class="details admonition note open"><div class="details-summary admonition-title"><i class="icon fas fa-pencil-alt fa-fw" aria-hidden=true></i>Note<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><code>git rebase -i [commit|branch]</code><br>-i, &ndash;interactive: let the user edit the list of commits to rebase<br>[commit|branch]: the base commit or branch to reapply on</div></div></div></p><p><img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-00-process-01.png data-srcset="/posts/git-rebase/images/git-rebase-00-process-01.png, /posts/git-rebase/images/git-rebase-00-process-01.png 1.5x, /posts/git-rebase/images/git-rebase-00-process-01.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-00-process-01.png title=git-rebase-interactive-mode width=652 height=598></p><p>The picture above shows the information we will see when entering interactive mode.</p><div id=id-1>Information inside <strong>red</strong> rectangle indicates the commits history. The top line is the earliest commit, and the line at bottom is the latest commit.</div><div id=id-2>Text inside <strong>blue</strong> rectangle usually contains the explanation of commands or the status of rebasing. Text is commented out, which means the result of rebasing will not be affected by the content.</div><h2 id=command-usages>Command Usages</h2><h3 id=reorder-commits>Reorder commits</h3><p><img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-01-process-01.png data-srcset="/posts/git-rebase/images/git-rebase-01-process-01.png, /posts/git-rebase/images/git-rebase-01-process-01.png 1.5x, /posts/git-rebase/images/git-rebase-01-process-01.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-01-process-01.png title="Git rebase: reorder commit history" width=652 height=193></p><p>This example is to move commit <code>Add file2</code> after <code>Add file5</code>. We can achieve that by,</p><ol><li>Simply cut the line of commit <code>Add file2</code> and paste it below commit <code>Add file5</code>,</li><li>Save the change and exit the view</li></ol><p><img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-s-log-01.png data-srcset="/posts/git-rebase/images/git-rebase-s-log-01.png, /posts/git-rebase/images/git-rebase-s-log-01.png 1.5x, /posts/git-rebase/images/git-rebase-s-log-01.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-s-log-01.png title="Git rebase: One-line log after reordering commit history" width=652 height=91></p><p>Above one-line log shows the reapplied commit history. Now <code>Add file2</code> becomes the newest commit.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-01.png data-srcset="/posts/git-rebase/images/git-rebase-01.png, /posts/git-rebase/images/git-rebase-01.png 1.5x, /posts/git-rebase/images/git-rebase-01.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-01.png title="Git rebase: graph of reordering commit history" width=798 height=424></p><p><em>TODO: Correct commit hash</em></p><p>From the git visualization above, we found that there is no commit being removed. Instead, a new path with a couple of new commits has been generated. A tag <strong>main</strong> is pointing to the latest commit of the new path, which is <code>Add file2</code>. Another tag <strong>ORIG_HEAD</strong> is pointing to the previous status, so we can reset to the previous status anytime by running <code>git reset --hard ORIG_HEAD</code>.</p><div class="details admonition note open"><div class="details-summary admonition-title"><i class="icon fas fa-pencil-alt fa-fw" aria-hidden=true></i>Note<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><strong>Save and exit a file</strong><br><code>esc</code> + <code>:wq</code> for editors such as Vi or Vim<br><code>ctrl</code> + <code>x</code> + <code>Enter</code> for editor such as nano</div></div></div><h3 id=reword-commits>Reword commits</h3><p>This example is to reword the message of commit <code>Add file3</code> to <code>Edit file3</code>. In order to achieve that,</p><p>1.Replace command <strong>pick</strong> for the commit to <strong>reword</strong>, save and exit it</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-02-process-01.png data-srcset="/posts/git-rebase/images/git-rebase-02-process-01.png, /posts/git-rebase/images/git-rebase-02-process-01.png 1.5x, /posts/git-rebase/images/git-rebase-02-process-01.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-02-process-01.png title="Git rebase: reword step 1" width=676 height=191></p><p>2.Unreword message will show up
<img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-02-process-02.png data-srcset="/posts/git-rebase/images/git-rebase-02-process-02.png, /posts/git-rebase/images/git-rebase-02-process-02.png 1.5x, /posts/git-rebase/images/git-rebase-02-process-02.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-02-process-02.png title="Git rebase: reword step 2" width=676 height=410></p><p>3.Edit the message to whatever we want (i.e., &ldquo;Edit file3&rdquo;), save and exit it
<img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-02-process-03.png data-srcset="/posts/git-rebase/images/git-rebase-02-process-03.png, /posts/git-rebase/images/git-rebase-02-process-03.png 1.5x, /posts/git-rebase/images/git-rebase-02-process-03.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-02-process-03.png title="Git rebase: reword step 3" width=676 height=408></p><p><img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-02.png data-srcset="/posts/git-rebase/images/git-rebase-02.png, /posts/git-rebase/images/git-rebase-02.png 1.5x, /posts/git-rebase/images/git-rebase-02.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-02.png title="Git rebase: graph of rewording commit message" width=799 height=421></p><p>The git visualization above shows that a new path has been created, and the commit message <code>Edit file3</code> is included in the new path where tag <strong>main</strong> is pointing to. As we mentioned before, resetting to the previous status is applicable.</p><h3 id=delete-commits>Delete commits</h3><p>This example is to delete commits in two cases. One is to delete continous last two commits. Another is to delete noncontinous arbitrary commits.</p><p><strong>Case 1: delete continous last two commits</strong><br>Replace <strong>pick</strong> to <strong>drop</strong> for both <code>Add file4</code> and <code>Add file5</code>, save and exit it.</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-03-process-01.png data-srcset="/posts/git-rebase/images/git-rebase-03-process-01.png, /posts/git-rebase/images/git-rebase-03-process-01.png 1.5x, /posts/git-rebase/images/git-rebase-03-process-01.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-03-process-01.png title="Git rebase: delete case 1" width=705 height=192></p><p><img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-03.png data-srcset="/posts/git-rebase/images/git-rebase-03.png, /posts/git-rebase/images/git-rebase-03.png 1.5x, /posts/git-rebase/images/git-rebase-03.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-03.png title="Git rebase: graph of deletion case 1" width=799 height=296><br>From the git visualization we can see that tag <strong>main</strong> moved to <code>Add file3</code>, which is the latest commits after the deletion. Tag <strong>ORIG_HEAD</strong> is as usual pointing to the previous status.</p><p><strong>Case 2: delete noncontinous arbitrary commits</strong><br>Replace <strong>pick</strong> to <strong>drop</strong> for both <code>Add file3</code> and <code>Add file5</code>, save and exit it.
<img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-04-process-01.png data-srcset="/posts/git-rebase/images/git-rebase-04-process-01.png, /posts/git-rebase/images/git-rebase-04-process-01.png 1.5x, /posts/git-rebase/images/git-rebase-04-process-01.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-04-process-01.png title="Git rebase: delete case 2" width=705 height=191></p><p><img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-04.png data-srcset="/posts/git-rebase/images/git-rebase-04.png, /posts/git-rebase/images/git-rebase-04.png 1.5x, /posts/git-rebase/images/git-rebase-04.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-04.png title="Git rebase: graph of deletion case 2" width=799 height=418><br>From the git visualization we can see that a new path has been created since the deletion is neither applying continous nor the last two commit. The new path contains only four commits sinsce two commits have been removed. Tag <strong>main</strong> is pointing to commit <code>Add file4</code> on the new path. Tag <strong>ORIG_HEAD</strong> keeps the previous status by pointing to the latest commit on the original path.</p><h3 id=squash-commits>Squash commits</h3><p>This example is to merge commits together. The command <strong>squash</strong> will use the applied commit, but meld into the previous commit.</p><p>For example, if we replace <strong>pick</strong> with <strong>squash</strong> on commit <code>Add file4</code>, the information of commit <code>Add file4</code> will be taken care of at the same time when the rebasing arrives the stage where commit <code>Add file3</code> is.</p><p>1.Replace <strong>pick</strong> with <strong>squash</strong>, save and exit it.
<img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-05-process-01.png data-srcset="/posts/git-rebase/images/git-rebase-05-process-01.png, /posts/git-rebase/images/git-rebase-05-process-01.png 1.5x, /posts/git-rebase/images/git-rebase-05-process-01.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-05-process-01.png title="Git rebase: squash step 1" width=567 height=156></p><p>2.1. Keep an explanatory message, save and exit it.
<img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-05-process-02.png data-srcset="/posts/git-rebase/images/git-rebase-05-process-02.png, /posts/git-rebase/images/git-rebase-05-process-02.png 1.5x, /posts/git-rebase/images/git-rebase-05-process-02.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-05-process-02.png title="Git rebase: squash step 2" width=567 height=527></p><p>2.2. Or remove unwanted messages and compose a new one.
<img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-05-process-03.png data-srcset="/posts/git-rebase/images/git-rebase-05-process-03.png, /posts/git-rebase/images/git-rebase-05-process-03.png 1.5x, /posts/git-rebase/images/git-rebase-05-process-03.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-05-process-03.png title="Git rebase: squash step 3" width=567 height=404></p><p><img class=lazyload src=/svg/loading.min.svg data-src=/posts/git-rebase/images/git-rebase-05.png data-srcset="/posts/git-rebase/images/git-rebase-05.png, /posts/git-rebase/images/git-rebase-05.png 1.5x, /posts/git-rebase/images/git-rebase-05.png 2x" data-sizes=auto alt=/posts/git-rebase/images/git-rebase-05.png title="Git rebase: graph of squashing" width=800 height=408><br>Git visualization shows that a new path has been created which contains the merged commit <code>Add file3,4</code>. Tag <strong>main</strong> is pointing to the new path and tag <strong>ORIG_HEAD</strong> is pointing to the previous status.</p><h2 id=epilogue>Epilogue</h2><p>That was basically all I want to share with you regarding the basic rebasing manipulation. Another thing to mention here is that although we manipulate commands on the main branch, it is only for an easier demonstration. Please keep in mind that <strong>never</strong> do it for public history. The good practice would be manipulating within your own branch, and merge it to the main branch.</p><p>Hope you find something interesting, and I appreciate all your feedback!</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2022-09-16</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://adelinewei.github.io/posts/git-rebase/><i class="fab fa-linkedin fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://adelinewei.github.io/posts/git-rebase/ data-title="Introduction and Demonstration to Git Rebase"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/git/>git</a>,&nbsp;<a href=/tags/demo/>demo</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.102.3">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank></a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=/css/b87db4.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>